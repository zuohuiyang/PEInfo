# PEInfo（petools）TODO / Backlog

本文档用于记录该工程的待办事项与验收要点，便于迭代跟踪。

## 待办列表

### 1) 资源（Resources）展示增强：图标等 + 支持导出

- 目标
  - 在资源相关界面更直观地展示资源内容，尤其是图标（Icon/Group Icon）、光标、版本信息、清单（manifest）等。
  - 支持将资源（单个或批量）导出到文件。
- 建议拆分
  - 图标预览：支持常见尺寸/多语言/多分辨率（从 GroupIcon 解析到 Icon）。
  - 资源树/列表：按 Type/Name/Language 组织，支持快速过滤。
  - 导出能力：
    - 导出原始二进制（.bin）；
    - 对已知类型导出为更友好的格式（如 .ico/.cur/.xml/.txt 等）；
    - 支持“导出当前项 / 导出当前类型 / 全部导出”。
- 验收要点
  - 打开含图标的 PE，能看到可用图标预览；
  - 导出后的文件可被系统/常见工具正确打开；
  - 导出过程对大文件/大量资源不卡死 UI（必要时异步 + 进度/取消）。

### 2) 各种搜索框：保存搜索历史

- 目标
  - 所有带“搜索/过滤”的输入框支持历史记录（下拉选择），并在下次启动时保留。
- 设计要点
  - 历史条目去重（大小写可选）、最近优先、数量上限（如 20/50）。
  - 支持快捷清空历史、逐条删除（可选）。
  - 作用域建议区分：按“功能页/Tab”分别保存，避免互相污染。
- 验收要点
  - 输入搜索关键字并使用后可出现在下拉历史里；
  - 重启程序后历史仍存在；
  - 不会无限增长（有上限与清理逻辑）。

### 3) 标题栏增加 Build 号

- 目标
  - 主窗口标题显示 build 号（例如：`PEInfo vX.Y (build 1234)`），便于定位版本与排查问题。
- 实现建议
  - 从版本信息（资源 VersionInfo）或构建宏（如 `APPVEYOR_BUILD_NUMBER` / 自定义宏）注入。
  - 保持在“关于”对话框/日志中也能看到相同 build 信息（可选）。
- 验收要点
  - 本地/CI 构建得到的可执行文件标题可区分；
  - build 号为空时有合理降级（不显示或显示 `unknown`）。

### 4) Strings Tab 增加进度条

- 目标
  - Strings 扫描/提取过程展示进度与状态，避免用户误以为卡死。
- 实现建议
  - 若扫描可计算总量：展示确定进度（0–100%）。
  - 若不可计算：展示不确定进度（marquee）+ 已处理字节/耗时/发现数量。
  - 支持取消（可选但推荐）。
- 验收要点
  - 扫描大文件时进度可见且 UI 可响应；
  - 结束后自动隐藏/复位进度显示；
  - 取消后能可靠停止并清理状态。

### 5) 增加各种数据的解释（Help/Tooltip/说明文案）

- 目标
  - 对关键字段、缩写、计算口径、异常情况提供解释，降低使用门槛。
- 优先补充范围（建议）
  - PE 结构字段：RVA/VA、FileOffset、Characteristics、DataDirectory 含义。
  - Imports/Exports：Ordinal、Hint、Delay-Import、Bound Import 等差异。
  - 签名与验证：校验链/时间戳、常见失败原因（缺链/离线/被篡改）。
  - 哈希：算法差异与用途；字符串扫描：编码/最小长度/误报来源。
- 形式建议
  - 字段旁 tooltip（鼠标悬停）；
  - 右侧说明面板（随选中项变化）；
  - “导出报告”中附带 glossary（可选）。
- 验收要点
  - 用户无需查资料即可理解核心字段；
  - 文案简短准确，不引入新的歧义；
  - 对异常/缺失数据给出可行动的解释（例如“该文件无签名” vs “验证失败：原因…”）。

## 进度记录

- 状态说明：`TODO` / `Doing` / `Done` / `Blocked`
- 后续在每个条目下追加实现记录、截图位置（如有）、相关文件与验证方式。

